<div class="card-container">
  <div class="card">
    <h1 class="fullWidth">Atualizar Animal</h1>
    <form class="form">
      <div class="status-prioridade">
        <mat-form-field class="codigo-field" appearance="outline">
          <mat-label>Código</mat-label>
          <input matInput [(ngModel)]="animal.codigo" name="codigo" [formControl]="codigo" required maxlength="50">
        </mat-form-field>
        <mat-form-field class="apelido-field" appearance="outline">
          <mat-label>Apelido</mat-label>
          <input matInput [(ngModel)]="animal.apelido" name="apelido" [formControl]="apelido" required maxlength="50">
        </mat-form-field>
      </div>

      <div class="animal-comprado">
        <mat-checkbox [(ngModel)]="animalComprado" (change)="toggleDataCompra()" name="animalComprado">
          <mat-label>Comprado?</mat-label>
        </mat-checkbox>
      </div>

      <mat-form-field class="data-compra-field" appearance="outline" *ngIf="animalComprado">
        <mat-label>Data de compra</mat-label>
        <input matInput [matDatepicker]="picker" [(ngModel)]="animal.dataCompra" name="dataCompra" [ngModelOptions]="{ standalone: true }">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <div class="status-prioridade">
        <mat-form-field class="data-nascimento-field" appearance="outline">
          <mat-label>Data de nascimento</mat-label>
          <input matInput [matDatepicker]="picker2" [(ngModel)]="animal.dataNascimento" name="dataNascimento" [formControl]="dataNascimento" required>
          <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
          <mat-datepicker #picker2></mat-datepicker>
        </mat-form-field>
        <mat-form-field class="lote-field" appearance="outline">
          <mat-label>Selecione um lote</mat-label>
          <mat-select [(ngModel)]="animal.idLote" name="idLote" [formControl]="idLote" required>
            <mat-option *ngFor="let lot of lotes" [value]="lot.idLote">{{ lot.nomeLote }}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="raca-field" appearance="outline">
          <mat-label>Selecione uma raça</mat-label>
          <mat-select [(ngModel)]="animal.idRaca" name="idRaca" [formControl]="idRaca" required>
            <mat-option *ngFor="let rac of racas" [value]="rac.idRaca">{{ rac.nomeRaca }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="button-group">
        <button (click)="update()" [disabled]="!validaCampos()" class="mat-elevation-z4" mat-flat-button color="primary">Atualizar</button>
        <button routerLink="/animal" class="mat-elevation-z4" mat-stroked-button color="warn">Cancelar</button>
      </div>
    </form>
  </div>
</div>
